<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>DictaMed â€“ OÃ¹ la voix rencontre les chiffres</title>
  <meta name="description" content="Solution de dictÃ©e mÃ©dicale intelligente pour la collecte de donnÃ©es et crÃ©ation de fichiers SPSS">
  <meta name="theme-color" content="#2563eb" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#1e40af" media="(prefers-color-scheme: dark)">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="DictaMed">
  <meta name="format-detection" content="telephone=no">
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='g1' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%232563eb'/%3E%3Cstop offset='100%25' stop-color='%231e40af'/%3E%3C/linearGradient%3E%3ClinearGradient id='g2' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%2310b981'/%3E%3Cstop offset='100%25' stop-color='%23059669'/%3E%3C/linearGradient%3E%3C/defs%3E%3Ctext x='10' y='75' font-size='70' font-weight='bold'%3E%3Ctspan fill='url(%23g1)'%3ED%3C/tspan%3E%3Ctspan fill='url(%23g2)'%3EM%3C/tspan%3E%3C/text%3E%3C/svg%3E">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <a href="#main" class="skip-link">Aller au contenu principal</a>
  <header role="banner">
    <div class="header-container">
      <div class="logo-section">
        <div class="logo"><span class="logo-dicta">Dicta</span><span class="logo-med">Med</span></div>
        <p class="slogan">OÃ¹ la voix rencontre les chiffres</p>
      </div>
      <nav class="tabs-nav" role="navigation" aria-label="Navigation principale">
        <div class="swipe-hint">ğŸ‘‰ Faites glisser pour voir plus</div>
        <div class="tabs-container" role="tablist">
          <button class="tab-btn active" role="tab" data-tab="mode-normal" aria-selected="true"><span class="tab-icon">ğŸ“</span>Mode Normal</button>
          <button class="tab-btn" role="tab" data-tab="guide" aria-selected="false"><span class="tab-icon">ğŸ“–</span>Guide</button>
          <button class="tab-btn" role="tab" data-tab="contact" aria-selected="false"><span class="tab-icon">ğŸ“§</span>Contact</button>
          <button class="tab-btn" role="tab" data-tab="faq" aria-selected="false"><span class="tab-icon">â“</span>FAQ</button>
          <button class="tab-btn" role="tab" data-tab="mode-test" aria-selected="false"><span class="tab-icon">ğŸ§ª</span>Mode Test</button>
          <button class="tab-btn" role="tab" data-tab="mode-dmi" aria-selected="false"><span class="tab-icon">ğŸ©º</span>Mode DMI</button>
        </div>
      </nav>
    </div>
  </header>

  <main class="container" id="main" role="main">
    <!-- Mode Normal -->
    <section id="mode-normal" class="tab-content active">
      <div class="card auth-card">
        <h2>ğŸ” Authentification</h2>
        <div class="form-group">
          <label for="username">ğŸ” Identifiant</label>
          <input type="text" id="username" placeholder="Votre identifiant" required>
        </div>
        <div class="form-group">
          <label for="accessCode">ğŸ”‘ Code d'accÃ¨s</label>
          <input type="password" id="accessCode" placeholder="Votre code d'accÃ¨s" required>
        </div>
        <div class="form-group" style="margin-top: 15px;">
          <label style="display:flex;align-items:center;gap:8px;cursor:pointer;">
            <input type="checkbox" id="rememberAuth" style="width:auto;cursor:pointer;">
            <span>ğŸ’¾ Enregistrer mes informations d'authentification</span>
          </label>
        </div>
      </div>

      <div class="card">
        <h2>ğŸ‘¤ Informations du patient :</h2>
        <div class="form-group">
          <label for="numeroDossier">ğŸ“ NumÃ©ro de dossier <span style="color:var(--red)">*</span></label>
          <input type="text" id="numeroDossier" maxlength="50" placeholder="NumÃ©ro de dossier (max 50 caractÃ¨res)" required>
          <span class="char-counter" id="numeroDossierCounter">0/50</span>
        </div>
        <div class="form-group">
          <label for="nomPatient">ğŸ‘¤ Nom complet du patient</label>
          <input type="text" id="nomPatient" maxlength="50" placeholder="Nom complet (max 50 caractÃ¨res)">
          <span class="char-counter" id="nomPatientCounter">0/50</span>
        </div>
      </div>

      <div class="recording-section" data-section="partie1">
        <h3>ğŸ“‹ Partie 1</h3>
        <div class="recording-controls">
          <div class="status-info">
            <span class="status-badge" data-status="ready">PrÃªt</span>
            <span class="timer">00:00</span>
            <span class="recorded-badge hidden">EnregistrÃ© âœ“</span>
          </div>
          <div class="control-buttons">
            <button class="btn btn-record">Enregistrer</button>
            <button class="btn btn-pause hidden">Pause</button>
            <button class="btn btn-stop hidden">ArrÃªter</button>
            <button class="btn btn-replay hidden">RÃ©Ã©couter</button>
            <button class="btn btn-delete hidden">Supprimer</button>
          </div>
          <audio class="audio-player hidden" controls></audio>
        </div>
      </div>

      <div class="recording-section" data-section="partie2">
        <h3>ğŸ“‹ Partie 2</h3>
        <div class="recording-controls">
          <div class="status-info">
            <span class="status-badge" data-status="ready">PrÃªt</span>
            <span class="timer">00:00</span>
            <span class="recorded-badge hidden">EnregistrÃ© âœ“</span>
          </div>
          <div class="control-buttons">
            <button class="btn btn-record">Enregistrer</button>
            <button class="btn btn-pause hidden">Pause</button>
            <button class="btn btn-stop hidden">ArrÃªter</button>
            <button class="btn btn-replay hidden">RÃ©Ã©couter</button>
            <button class="btn btn-delete hidden">Supprimer</button>
          </div>
          <audio class="audio-player hidden" controls></audio>
        </div>
      </div>

      <div class="recording-section" data-section="partie3">
        <h3>ğŸ“‹ Partie 3</h3>
        <div class="recording-controls">
          <div class="status-info">
            <span class="status-badge" data-status="ready">PrÃªt</span>
            <span class="timer">00:00</span>
            <span class="recorded-badge hidden">EnregistrÃ© âœ“</span>
          </div>
          <div class="control-buttons">
            <button class="btn btn-record">Enregistrer</button>
            <button class="btn btn-pause hidden">Pause</button>
            <button class="btn btn-stop hidden">ArrÃªter</button>
            <button class="btn btn-replay hidden">RÃ©Ã©couter</button>
            <button class="btn btn-delete hidden">Supprimer</button>
          </div>
          <audio class="audio-player hidden" controls></audio>
        </div>
      </div>

      <div class="recording-section optional-section hidden" data-section="partie4">
        <h3>ğŸ’Š Partie 4 (optionnelle)</h3>
        <div class="recording-controls">
          <div class="status-info">
            <span class="status-badge" data-status="ready">PrÃªt</span>
            <span class="timer">00:00</span>
            <span class="recorded-badge hidden">EnregistrÃ© âœ“</span>
          </div>
          <div class="control-buttons">
            <button class="btn btn-record">Enregistrer</button>
            <button class="btn btn-pause hidden">Pause</button>
            <button class="btn btn-stop hidden">ArrÃªter</button>
            <button class="btn btn-replay hidden">RÃ©Ã©couter</button>
            <button class="btn btn-delete hidden">Supprimer</button>
          </div>
          <audio class="audio-player hidden" controls></audio>
        </div>
      </div>

      <div class="optional-toggle">
        <button class="btn btn-secondary" id="togglePartie4">Afficher Partie 4 (optionnelle)</button>
      </div>

      <div class="submit-section">
        <p class="sections-count" aria-live="polite">0 section(s) enregistrÃ©e(s)</p>
        <button class="btn btn-submit" id="submitNormal" disabled>Envoyer les donnÃ©es</button>
      </div>
    </section>

    <!-- Guide -->
    <section id="guide" class="tab-content">
      <h1>Guide d'utilisation DictaMed</h1>
      <div class="card">
        <h2>ğŸ’­ La ProblÃ©matique</h2>
        <ul>
          <li><strong>â±ï¸ Temps considÃ©rable perdu</strong> : Des heures de saisie manuelle</li>
          <li><strong>ğŸ§  Concentration intense requise</strong> : Risque d'erreurs</li>
          <li><strong>ğŸ”„ TÃ¢che fastidieuse</strong> : Processus chronophage</li>
          <li><strong>âŒ Erreurs frÃ©quentes</strong> : Fautes de frappe, inversions</li>
        </ul>
      </div>
      <div class="card">
        <h2>ğŸ’¡ Conseils pour une dictÃ©e optimale</h2>
        <ul>
          <li>ğŸ¤ Microphone de qualitÃ©</li>
          <li>ğŸ”‡ Environnement calme</li>
          <li>ğŸ—£ï¸ Parlez clairement et lentement</li>
          <li>â¸ï¸ Marquez une pause entre chaque valeur</li>
          <li>ğŸ“ Suivez l'ordre du plan de travail</li>
          <li>âœ… VÃ©rifiez avec "RÃ©Ã©couter"</li>
        </ul>
      </div>
      <div class="card solution-card">
        <h2>âœ¨ La Solution DictaMed</h2>
        <p>Ã‰conomisez jusqu'Ã  70% de votre temps avec une prÃ©cision > 95%.</p>
        <div class="cta-buttons">
          <button class="btn btn-primary" onclick="app.switchTab('mode-test')">ğŸ¯ Essayer le Mode Test</button>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="tab-content">
      <h1>Contact</h1>
      <div class="card">
        <p>ğŸ“§ Email : <a href="mailto:contact@dictamed.fr">contact@dictamed.fr</a></p>
        <p>ğŸ“˜ Facebook : <a href="https://www.facebook.com/DictaMed.SPSS" target="_blank" rel="noopener">DictaMed.SPSS</a></p>
        <div class="info-box">ğŸ’° Tarification personnalisÃ©e selon le nombre de patients et variables</div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="tab-content">
      <h1>Questions FrÃ©quentes</h1>
      <div class="faq-list">
        <details class="faq-item">
          <summary>1. Qu'est-ce que DictaMed ?</summary>
          <p>Solution de dictÃ©e mÃ©dicale intelligente qui transforme vos enregistrements vocaux en donnÃ©es SPSS.</p>
        </details>
        <details class="faq-item">
          <summary>2. Mes donnÃ©es sont-elles sÃ©curisÃ©es ?</summary>
          <p>Oui, conforme RGPD et chiffrement bout-en-bout.</p>
        </details>
      </div>
    </section>

    <!-- Mode Test -->
    <section id="mode-test" class="tab-content">
      <div class="demo-badge">ğŸ¯ DÃ‰MO GRATUITE</div>
      <h1>Mode Test - DÃ©couvrez DictaMed</h1>
      <div class="card">
        <div class="info-box enhanced-realtime-box">
          <h3>ğŸ“Š RÃ©sultats en temps rÃ©el</h3>
          <p>Vos dictÃ©es sont transcrites dans notre Google Sheet public :</p>
          <a class="btn-primary" href="https://docs.google.com/spreadsheets/d/1TQX0MdXuZNL3Y8Qoz6tpR-V0FUj_DZXzLy4UvgC6E4g/edit" target="_blank" rel="noopener">ğŸ“Š Ouvrir le Google Sheet</a>
        </div>
      </div>
      <div class="card">
        <h2>Informations Patient</h2>
        <div class="form-group">
          <label for="numeroDossierTest">ğŸ“ NumÃ©ro de dossier</label>
          <input type="text" id="numeroDossierTest" maxlength="50" placeholder="Ex: 14/2024" required>
          <span class="char-counter" id="numeroDossierTestCounter">0/50</span>
        </div>
        <div class="form-group">
          <label for="nomPatientTest">ğŸ‘¤ Nom & prÃ©nom</label>
          <input type="text" id="nomPatientTest" maxlength="50" placeholder="Ex: ben saleh kamel">
          <span class="char-counter" id="nomPatientTestCounter">0/50</span>
        </div>
      </div>
      <div class="recording-section" data-section="clinique">
        <h3>ğŸ“‹ DonnÃ©es Cliniques</h3>
        <p class="section-description">Ã‚ge, sexe, BMI, tabac</p>
        <div class="recording-controls">
          <div class="status-info">
            <span class="status-badge" data-status="ready">PrÃªt</span>
            <span class="timer">00:00</span>
            <span class="recorded-badge hidden">EnregistrÃ© âœ“</span>
          </div>
          <div class="control-buttons">
            <button class="btn btn-record">Enregistrer</button>
            <button class="btn btn-pause hidden">Pause</button>
            <button class="btn btn-stop hidden">ArrÃªter</button>
            <button class="btn btn-replay hidden">RÃ©Ã©couter</button>
            <button class="btn btn-delete hidden">Supprimer</button>
          </div>
          <audio class="audio-player hidden" controls></audio>
        </div>
      </div>
      <div class="recording-section" data-section="antecedents">
        <h3>ğŸ¥ AntÃ©cÃ©dents</h3>
        <p class="section-description">HTA, DT2, DYSLIPIDEMIE, AVC</p>
        <div class="recording-controls">
          <div class="status-info">
            <span class="status-badge" data-status="ready">PrÃªt</span>
            <span class="timer">00:00</span>
            <span class="recorded-badge hidden">EnregistrÃ© âœ“</span>
          </div>
          <div class="control-buttons">
            <button class="btn btn-record">Enregistrer</button>
            <button class="btn btn-pause hidden">Pause</button>
            <button class="btn btn-stop hidden">ArrÃªter</button>
            <button class="btn btn-replay hidden">RÃ©Ã©couter</button>
            <button class="btn btn-delete hidden">Supprimer</button>
          </div>
          <audio class="audio-player hidden" controls></audio>
        </div>
      </div>
      <div class="recording-section" data-section="biologie">
        <h3>ğŸ§ª Biologie</h3>
        <p class="section-description">HÃ©moglobine, globules blancs, plaquettes</p>
        <div class="recording-controls">
          <div class="status-info">
            <span class="status-badge" data-status="ready">PrÃªt</span>
            <span class="timer">00:00</span>
            <span class="recorded-badge hidden">EnregistrÃ© âœ“</span>
          </div>
          <div class="control-buttons">
            <button class="btn btn-record">Enregistrer</button>
            <button class="btn btn-pause hidden">Pause</button>
            <button class="btn btn-stop hidden">ArrÃªter</button>
            <button class="btn btn-replay hidden">RÃ©Ã©couter</button>
            <button class="btn btn-delete hidden">Supprimer</button>
          </div>
          <audio class="audio-player hidden" controls></audio>
        </div>
      </div>
      <div class="submit-section">
        <p class="sections-count" aria-live="polite">0 section(s) enregistrÃ©e(s)</p>
        <button class="btn btn-submit" id="submitTest" disabled>Envoyer les donnÃ©es Test</button>
      </div>
      <div class="card hidden" id="googleSheetCard">
        <h2>ğŸ“Š RÃ©sultats de Transcription</h2>
        <p>Vos donnÃ©es ont Ã©tÃ© envoyÃ©es ! Consultez la transcription en temps rÃ©el :</p>
        <a class="btn-primary" href="https://docs.google.com/spreadsheets/d/1TQX0MdXuZNL3Y8Qoz6tpR-V0FUj_DZXzLy4UvgC6E4g/edit" target="_blank" rel="noopener">ğŸ“Š Ouvrir le Google Sheet</a>
      </div>
    </section>

    <!-- Mode DMI -->
    <section id="mode-dmi" class="tab-content">
      <h1>ğŸ“ Mode DMI</h1>
      <div class="card" style="background:linear-gradient(135deg,rgba(245,158,11,.1),rgba(217,119,6,.1));border-left:4px solid #f59e0b;">
        <h2>ğŸš§ En cours de dÃ©veloppement</h2>
        <p>Cette fonctionnalitÃ© sera bientÃ´t disponible.</p>
      </div>
      <div class="card">
        <p>Copiez-collez vos dossiers DMI ou photographiez-les. DictaMed extraira les donnÃ©es automatiquement.</p>
      </div>
      <div class="card">
        <h2>Informations Patient</h2>
        <div class="form-group">
          <label for="numeroDossierTexte">ğŸ“ NumÃ©ro de dossier <span style="color:var(--red)">*</span></label>
          <input type="text" id="numeroDossierTexte" maxlength="50" placeholder="Ex: 14/2024" required>
          <span class="char-counter" id="numeroDossierTexteCounter">0/50</span>
        </div>
        <div class="form-group">
          <label for="nomPatientTexte">ğŸ‘¤ Nom complet du patient</label>
          <input type="text" id="nomPatientTexte" maxlength="100" placeholder="Nom complet (optionnel)">
          <span class="char-counter" id="nomPatientTexteCounter">0/100</span>
        </div>
      </div>
      <div class="card">
        <h2>ğŸ“„ Texte libre</h2>
        <div class="form-group">
          <label for="texteLibre">Votre texte (sans limite de caractÃ¨res)</label>
          <textarea id="texteLibre" rows="12" placeholder="Saisissez vos observations, notes, donnÃ©es cliniques, etc."></textarea>
          <div style="margin-top:10px;text-align:right;font-size:.9rem;color:var(--gray-medium)">
            <span id="texteLibreCounter">0</span> caractÃ¨res
          </div>
        </div>
      </div>
      <div class="card">
        <h2>ğŸ“· Photos (Maximum 5)</h2>
        <div class="form-group">
          <label for="photosUpload">SÃ©lectionnez jusqu'Ã  5 photos</label>
          <input type="file" id="photosUpload" accept="image/*" multiple>
          <p style="margin-top:10px;font-size:.9rem;color:var(--gray-medium)">Formats acceptÃ©s : JPG, PNG, WEBP, GIF</p>
        </div>
        <div id="photosPreview" class="photos-preview"></div>
      </div>
      <div class="submit-section">
        <p class="info-box" style="display:inline-block;margin-bottom:20px;">âš ï¸ Le numÃ©ro de dossier est <strong>obligatoire</strong> pour envoyer les donnÃ©es.</p>
        <button class="btn btn-submit" id="submitTexte" disabled style="opacity:.5;cursor:not-allowed">Envoyer les donnÃ©es (bientÃ´t disponible)</button>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <p>Â© 2025 DictaMed â€“ Tous droits rÃ©servÃ©s | Contact : <a href="mailto:contact@dictamed.fr">contact@dictamed.fr</a></p>
    </div>
  </footer>

  <script src="script.js" type="module"></script>
</body>
</html>