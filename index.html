<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DictaMed - Dict√©e M√©dicale Intelligente</title>
    <link rel="stylesheet" href="style-optimized.css">
    <link rel="icon" type="image/png" sizes="32x32" href="icon-72x72.png">
    <link rel="icon" type="image/png" sizes="16x16" href="icon-72x72.png">
    
    <!-- CSS de Fallback - S'active si style-optimized.css ne se charge pas -->
    <link rel="stylesheet" href="style-fallback.css">
</head>
<body>
    <!-- Navigation fixe horizontale en header -->
    <div class="fixed-nav-header" id="fixedNavHeader">
        <div class="fixed-nav-container">
            <div class="nav-logo-left">
                <div class="header-logo">
                    <span class="logo-dicta">Dicta</span><span class="logo-med">Med</span>
                </div>
            </div>
            <div class="nav-tabs-right">
                <button class="fixed-nav-btn active" data-tab="home">
                    <span class="nav-icon">üè†</span>
                    Accueil
                </button>
                <button class="fixed-nav-btn" data-tab="mode-normal">
                    <span class="nav-icon">üè•</span>
                    Mode Normal
                </button>
                <button class="fixed-nav-btn" data-tab="mode-test">
                    <span class="nav-icon">üß™</span>
                    Mode Test
                </button>
                <button class="fixed-nav-btn" data-tab="mode-dmi">
                    <span class="nav-icon">üìù</span>
                    Saisie Texte
                </button>
                <button class="fixed-nav-btn" data-tab="guide">
                    <span class="nav-icon">üìñ</span>
                    Guide
                </button>
                <button class="fixed-nav-btn" data-tab="faq">
                    <span class="nav-icon">‚ùì</span>
                    FAQ
                </button>
                <button class="fixed-nav-btn auth-btn" id="authButton">
                    <span class="nav-icon">üîê</span>
                    <span id="authButtonText">Connexion</span>
                </button>
            </div>
        </div>
    </div>

    <main class="container">
        <!-- Navigation par onglets originale (maintenant cach√©e) -->
        <nav class="tabs-nav" style="display: none;">
            <div class="tabs-container">
                <button class="tab-btn active" data-tab="home">
                    <span class="tab-icon">üè†</span>
                    Accueil
                </button>
                <button class="tab-btn" data-tab="mode-normal">
                    <span class="tab-icon">üè•</span>
                    Mode Normal
                </button>
                <button class="tab-btn" data-tab="mode-test">
                    <span class="tab-icon">üß™</span>
                    Mode Test
                </button>
                <button class="tab-btn" data-tab="mode-dmi">
                    <span class="tab-icon">üìù</span>
                    Saisie Texte
                </button>
                <button class="tab-btn" data-tab="guide">
                    <span class="tab-icon">üìñ</span>
                    Guide
                </button>
                <button class="tab-btn" data-tab="faq">
                    <span class="tab-icon">‚ùì</span>
                    FAQ
                </button>
            </div>
            <div class="swipe-hint">‚Üê Glissez pour naviguer ‚Üí</div>
        </nav>

        <!-- Page d'accueil simplifi√©e -->
        <div id="tab-content" class="tab-content active">
            <!-- Hero Section Simple -->
            <div class="hero-section-simple">
                <h1 class="hero-title">
                    <span class="logo-dicta">Dicta</span><span class="logo-med">Med</span>
                </h1>
                <p class="hero-subtitle">
                    Dict√©e m√©dicale intelligente
                </p>
                <p class="hero-description">
                    Transformez vos paroles en documents m√©dicaux structur√©s.
                </p>
                
                <div class="hero-cta">
                    <button class="btn btn-primary btn-large" data-tab="mode-test">
                        Commencer maintenant
                    </button>
                    <button class="btn btn-secondary btn-large" data-tab="guide">
                        Voir la d√©mo
                    </button>
                </div>
            </div>

            <!-- Section Fonctionnalit√©s Simple -->
            <div class="features-section-simple">
                <h2>Fonctionnalit√©s</h2>
                <div class="features-grid-simple">
                    <div class="feature-card-simple">
                        <div class="feature-icon">üé§</div>
                        <h4>Dict√©e Vocale</h4>
                        <p>Transcription en temps r√©el avec IA m√©dicale sp√©cialis√©e.</p>
                    </div>
                    <div class="feature-card-simple">
                        <div class="feature-icon">üîí</div>
                        <h4>S√©curis√©</h4>
                        <p>Conformit√© RGPD et chiffrement end-to-end.</p>
                    </div>
                    <div class="feature-card-simple">
                        <div class="feature-icon">‚ö°</div>
                        <h4>Rapide</h4>
                        <p>R√©sultats en moins de 3 secondes.</p>
                    </div>
                </div>
            </div>

            <!-- Section Modes Simple -->
            <div class="modes-section-simple">
                <h2>Modes d'utilisation</h2>
                <div class="modes-grid-simple">
                    <div class="mode-card-simple">
                        <h4>Mode Test</h4>
                        <p>Essayez DictaMed sans inscription</p>
                        <button class="btn btn-primary" data-tab="mode-test">
                            Tester
                        </button>
                    </div>
                    <div class="mode-card-simple">
                        <h4>Mode Production</h4>
                        <p>Solution compl√®te pour professionnels</p>
                        <button class="btn btn-secondary" data-tab="mode-normal">
                            Acc√©der
                        </button>
                    </div>
                    <div class="mode-card-simple">
                        <h4>Saisie Texte</h4>
                        <p>Saisie manuelle avec gestion de photos</p>
                        <button class="btn btn-secondary" data-tab="mode-dmi">
                            Saisir
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Guide (cach√© par d√©faut) -->
        <div id="guide-content" class="tab-content" style="display: none;">
            <div id="guide-container">
                <!-- Le contenu sera charg√© dynamiquement -->
            </div>
        </div>

        <!-- FAQ (cach√© par d√©faut) -->
        <div id="faq-content" class="tab-content" style="display: none;">
            <div id="faq-container">
                <!-- Le contenu sera charg√© dynamiquement -->
            </div>
        </div>

        <!-- Mode Normal (cach√© par d√©faut) -->
        <div id="mode-normal-content" class="tab-content" style="display: none;">
            <div id="mode-normal-container">
                <!-- Le contenu sera charg√© dynamiquement -->
            </div>
        </div>

        <!-- Mode Test (cach√© par d√©faut) -->
        <div id="mode-test-content" class="tab-content" style="display: none;">
            <div id="mode-test-container">
                <!-- Le contenu sera charg√© dynamiquement -->
            </div>
        </div>

        <!-- Mode DMI (cach√© par d√©faut) -->
        <div id="mode-dmi-content" class="tab-content" style="display: none;">
            <div id="mode-dmi-container">
                <!-- Le contenu sera charg√© dynamiquement -->
            </div>
        </div>

        <!-- R√©sultat Google Sheet (cach√© par d√©faut) -->
        <div id="googleSheetCard" class="card google-sheet-result" style="display: none;">
            <h2>‚úÖ Donn√©es envoy√©es avec succ√®s !</h2>
            <p>Vos enregistrements ont √©t√© transcrits et sont disponibles dans le Google Sheet public :</p>
            <a href="https://docs.google.com/spreadsheets/d/1example" target="_blank" class="btn btn-primary">
                üìä Consulter le Google Sheet
            </a>
            <p class="note">Les donn√©es restent disponibles dans le sheet public pendant 24h.</p>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 DictaMed - Dict√©e m√©dicale intelligente</p>
            <p>Pour toute question ou assistance, contactez <a href="mailto:support@dictamed.fr">support@dictamed.fr</a></p>
        </div>
    </footer>

    <!-- Modal d'authentification simplifi√© -->
    <div id="authModal" class="auth-modal hidden">
        <div class="auth-modal-content">
            <div class="auth-modal-header">
                <h2 id="authModalTitle">Connexion</h2>
                <button class="auth-modal-close" data-action="close-auth" aria-label="Fermer">&times;</button>
            </div>
            
            <div class="auth-modal-body">
                <form id="modalEmailAuthForm" class="auth-email-form">
                    <div class="form-group">
                        <label for="modalEmailInput">Email</label>
                        <input type="email" id="modalEmailInput" placeholder="votre@email.com" required autocomplete="email">
                    </div>
                    
                    <div class="form-group">
                        <label for="modalPasswordInput">Mot de passe</label>
                        <input type="password" id="modalPasswordInput" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required autocomplete="current-password">
                    </div>
                    
                    <button type="submit" id="modalEmailSubmitBtn" class="btn btn-primary btn-full">
                        <span class="btn-text">Se connecter</span>
                    </button>
                    
                    <div id="modalAuthError" class="auth-error hidden"></div>
                </form>
                
                <!-- Profil utilisateur (affich√© si connect√©) -->
                <div id="modalUserProfile" class="user-profile-compact hidden">
                    <div class="user-info">
                        <h4 id="modalUserName">Utilisateur</h4>
                        <p id="modalUserEmail">email@example.com</p>
                    </div>
                    <div class="user-actions">
                        <button class="btn btn-outline" data-tab="mode-normal" data-action="close-after-nav">
                            Mode Normal
                        </button>
                        <button id="modalSignOutBtn" class="btn btn-danger">
                            D√©connexion
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics-compat.js"></script>
    <script src="firebase-config.js"></script>
    
    <!-- ===== ORDRE DE CHARGEMENT OPTIMIS√â DES SCRIPTS ===== -->
    
    <!-- 1. DEPENDANCES CRITIQUES EN PREMIER -->
    <script src="js/core/config.js"></script>
    <script src="js/core/utils.js"></script>
    <script src="js/core/error-handler.js"></script>
    <script src="js/core/performance-optimizer.js"></script>
    
    <!-- 2. √âTAT DE L'APPLICATION -->
    <script src="js/core/app-state.js"></script>
    
    <!-- 3. SYST√àMES FONDAMENTAUX -->
    <script src="js/components/notification.js"></script>
    <script src="js/components/loading-overlay.js"></script>
    
    <!-- 4. GESTIONNAIRE D'AUTHENTIFICATION (CRITIQUE POUR DMI) -->
    <script src="js/components/firebase-auth-manager.js"></script>
    <script src="js/components/auth-modal.js"></script>
    
    <!-- 5. COMPOSANTS AUDIO (D√âPENDANCE CRITIQUE) -->
    <script src="js/components/audio-recorder.js"></script>
    <script src="js/components/audio-recorder-manager.js"></script>
    
    <!-- 6. SYST√àMES DE NAVIGATION ET VALIDATION -->
    <script src="js/components/navigation.js"></script>
    <script src="js/components/form-validation.js"></script>
    
    <!-- 7. SYST√àMES DE DONN√âES ET SAUVEGARDE -->
    <script src="js/components/data-sender.js"></script>
    <script src="js/components/auto-save.js"></script>
    <script src="js/components/dmi-data-sender.js"></script>
    
    <!-- 8. SYST√àMES AUXILIAIRES -->
    <script src="js/components/photo-management.js"></script>
    
    <!-- 9. MODULES D'ONGLETS (D√âPENDENT DES COMPOSANTS CI-DESSUS) -->
    <script src="js/tabs/home.js"></script>
    <script src="js/tabs/normal-mode.js"></script>
    <script src="js/tabs/test-mode.js"></script>
    
    <!-- Script de diagnostic -->
    <script src="diagnostic-debug.js"></script>
    
    <!-- Point d'entr√©e principal -->
    <script src="js/main.js"></script>
    
    <!-- Tests unitaires (seulement en d√©veloppement) -->
    <script src="tests/unit-tests.js"></script>

</body>
</html>